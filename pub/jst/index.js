var Index;

Index = {
  nav: ['definery', 'iterate', 'navigate', 'product'],
  timeout: 1300,
  paused: false,
  tl: false,
  colors: {
    'definery': data.color.teal1,
    'iterate': data.color.blue1,
    'navigate': data.color.green1,
    'product': data.color.pink1
  },
  current: 0,
  i: function() {
    Index.tl = new TimelineMax();
    return Index.handlers();
  },
  handlers: function() {
    Detect.handler(Index.navigate);
    $('.nav').on('click', Index.navHandler);
    $('.dots > .dot').on('click', Index.dotHandler);
    $('.menu > .option').on('click', Index.menuHandler);
    return $('.contact_cta').on('click', Index.contact);
  },
  contact: function() {
    _.swap('.contact');
    return _.swap('.menu');
  },
  navHandler: function() {
    var current, direction, previous, t;
    if (Index.paused) {
      return true;
    }
    t = $(this);
    previous = t.data('from');
    current = t.data('to');
    direction = t.data('dir');
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  dotHandler: function() {
    var cnum, current, direction, pnum, previous;
    if (Index.paused) {
      return true;
    }
    previous = $('.dots .dot.on').data('sect');
    pnum = $('.dots .dot.on').data('num');
    current = $(this).data('sect');
    cnum = $(this).data('num');
    if (cnum > pnum) {
      direction = 'down';
    } else {
      direction = 'up';
    }
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  navigate: function(direction) {
    var current, previous;
    if (Index.paused) {
      return true;
    }
    previous = Index.nav[Index.current];
    if (direction === 'down' || direction === 'right') {
      if (Index.current === (Index.nav.length - 1)) {
        Index.current = 0;
      } else {
        Index.current++;
      }
    }
    if (direction === 'up' || direction === 'left') {
      if (Index.current === 0) {
        Index.current = Index.nav.length - 1;
      } else {
        Index.current--;
      }
    }
    current = Index.nav[Index.current];
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  transit: function(previous, current, direction) {
    var i, len, ref, sect;
    if (previous === void 0) {
      return true;
    }
    setTimeout(function() {
      $('meta[name=theme-color]').remove();
      return $('head').append('<meta name="theme-color" content="' + Index.colors[current] + '">');
    }, 500);
    ref = Index.nav;
    for (i = 0, len = ref.length; i < len; i++) {
      sect = ref[i];
      if (sect !== current) {
        $('.colors .svg').removeClass("star_" + sect);
        $('.border').removeClass(sect);
      }
    }
    $('.colors .svg').addClass("star_" + current);
    $('.border').addClass(current);
    if (direction === 'down' || direction === 'right') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromBottom');
      $(".background." + previous).addClass('outToTop');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromBottom');
      $(".content." + previous).addClass('cOutToTop');
      setTimeout(function() {
        var j, len1, ref1, results;
        $(".background." + current).removeClass('inFromBottom');
        $(".background." + previous).removeClass('outToTop');
        $(".content." + current).removeClass('cInFromBottom');
        $(".content." + previous).removeClass('cOutToTop');
        ref1 = Index.nav;
        results = [];
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            results.push(_.off(".content." + sect));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }, 1000);
    }
    if (direction === 'up' || direction === 'left') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromTop');
      $(".background." + previous).addClass('outToBottom');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromTop');
      $(".content." + previous).addClass('cOutToBottom');
      setTimeout(function() {
        var j, len1, ref1, results;
        $(".background." + previous).removeClass('outToBottom');
        $(".background." + current).removeClass('inFromTop');
        $(".content." + previous).removeClass('cOutToBottom');
        $(".content." + current).removeClass('cInFromTop');
        ref1 = Index.nav;
        results = [];
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            results.push(_.off(".content." + sect));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }, 1000);
    }
    _.off('.dots > .dot');
    _.on(".dots > .dot.dot_" + current);
    return Index.tl.to("#d1a", 1, {
      morphSVG: "#" + current + "1a",
      ease: Back.easeInOut
    }, '-=1').to("#d2a", 1, {
      morphSVG: "#" + current + "2a",
      ease: Back.easeInOut
    }, '-=1').to("#d3a", 1, {
      morphSVG: "#" + current + "3a",
      ease: Back.easeInOut
    }, '-=1').to("#d1b", 1, {
      morphSVG: "#" + current + "1b",
      ease: Back.easeInOut
    }, '-=1').to("#d2b", 1, {
      morphSVG: "#" + current + "2b",
      ease: Back.easeInOut
    }, '-=1').to("#d3b", 1, {
      morphSVG: "#" + current + "3b",
      ease: Back.easeInOut
    }, '-=1');
  }
};

//# sourceMappingURL=data:application/json;base64,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LENBQUMsU0FBdEM7S0FKakIsRUFJbUUsS0FKbkUsQ0FLRSxDQUFDLEVBTEgsQ0FLTSxNQUxOLEVBS2MsQ0FMZCxFQUtpQjtNQUFDLFFBQUEsRUFBVSxHQUFBLEdBQUksT0FBSixHQUFZLElBQXZCO01BQTRCLElBQUEsRUFBSyxJQUFJLENBQUMsU0FBdEM7S0FMakIsRUFLbUUsS0FMbkUsQ0FNRSxDQUFDLEVBTkgsQ0FNTSxNQU5OLEVBTWMsQ0FOZCxFQU1pQjtNQUFDLFFBQUEsRUFBVSxHQUFBLEdBQUksT0FBSixHQUFZLElBQXZCO01BQTRCLElBQUEsRUFBSyxJQUFJLENBQUMsU0FBdEM7S0FOakIsRUFNbUUsS0FObkU7RUF2RU8sQ0F6R1QiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJJbmRleCA9XG5cbiAgbmF2OiBbJ2RlZmluZXJ5JywnaXRlcmF0ZScsICduYXZpZ2F0ZScsICdwcm9kdWN0J11cbiAgdGltZW91dDogMTMwMFxuICBwYXVzZWQ6IGZhbHNlXG5cbiAgdGw6IGZhbHNlXG5cbiAgY29sb3JzOlxuICAgICdkZWZpbmVyeSc6IGRhdGEuY29sb3IudGVhbDFcbiAgICAnaXRlcmF0ZSc6IGRhdGEuY29sb3IuYmx1ZTFcbiAgICAnbmF2aWdhdGUnOiBkYXRhLmNvbG9yLmdyZWVuMVxuICAgICdwcm9kdWN0JzogZGF0YS5jb2xvci5waW5rMVxuXG4gIGN1cnJlbnQ6IDBcblxuICBpOiAtPlxuXG4gICAgI1R3ZWVuTGl0ZS5zZXQoXCJzdmdcIiwge3Zpc2liaWxpdHk6XCJ2aXNpYmxlXCJ9KVxuICAgIEluZGV4LnRsID0gbmV3IFRpbWVsaW5lTWF4KClcblxuICAgICNJbmRleC50bC50byhcIiNkMWFcIiwgMSwge21vcnBoU1ZHOiBcIiNkZWZpbmVyeTFhXCJ9LCAnLT0xJylcbiAgICAjSW5kZXgudGwudG8oXCIjZDJhXCIsIDEsIHttb3JwaFNWRzogXCIjZGVmaW5lcnkyYVwifSwgJy09MScpXG4gICAgI0luZGV4LnRsLnRvKFwiI2QzYVwiLCAxLCB7bW9ycGhTVkc6IFwiI2RlZmluZXJ5M2FcIn0sICctPTEnKVxuXG4gICAgI0luZGV4LnRsLnRvKFwiI2QxYlwiLCAxLCB7bW9ycGhTVkc6IFwiI2RlZmluZXJ5MWJcIn0sICctPTEnKVxuICAgICNJbmRleC50bC50byhcIiNkMmJcIiwgMSwge21vcnBoU1ZHOiBcIiNkZWZpbmVyeTJiXCJ9LCAnLT0xJylcbiAgICAjSW5kZXgudGwudG8oXCIjZDNiXCIsIDEsIHttb3JwaFNWRzogXCIjZGVmaW5lcnkzYlwifSwgJy09MScpXG5cbiAgICBJbmRleC5oYW5kbGVycygpXG5cbiAgaGFuZGxlcnM6IC0+XG5cbiAgICBEZXRlY3QuaGFuZGxlciBJbmRleC5uYXZpZ2F0ZVxuXG4gICAgJCgnLm5hdicpLm9uICdjbGljaycsIEluZGV4Lm5hdkhhbmRsZXJcbiAgICAkKCcuZG90cyA+IC5kb3QnKS5vbiAnY2xpY2snLCBJbmRleC5kb3RIYW5kbGVyXG4gICAgJCgnLm1lbnUgPiAub3B0aW9uJykub24gJ2NsaWNrJywgSW5kZXgubWVudUhhbmRsZXJcblxuICAgICQoJy5jb250YWN0X2N0YScpLm9uICdjbGljaycsIEluZGV4LmNvbnRhY3RcblxuICBjb250YWN0OiAtPlxuICAgIF8uc3dhcCAnLmNvbnRhY3QnXG4gICAgXy5zd2FwICcubWVudSdcblxuICBuYXZIYW5kbGVyOiAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgSW5kZXgucGF1c2VkXG4gICAgdCA9ICQodGhpcylcblxuICAgIHByZXZpb3VzID0gdC5kYXRhICdmcm9tJ1xuICAgIGN1cnJlbnQgPSB0LmRhdGEgJ3RvJ1xuICAgIGRpcmVjdGlvbiA9IHQuZGF0YSAnZGlyJ1xuXG4gICAgSW5kZXgudHJhbnNpdChwcmV2aW91cywgY3VycmVudCwgZGlyZWN0aW9uKVxuXG4gICAgSW5kZXgucGF1c2VkID0gdHJ1ZVxuICAgIHNldFRpbWVvdXQgLT5cbiAgICAgIEluZGV4LnBhdXNlZCA9IGZhbHNlXG4gICAgLEluZGV4LnRpbWVvdXRcblxuXG4gIGRvdEhhbmRsZXI6IC0+XG5cbiAgICByZXR1cm4gdHJ1ZSBpZiBJbmRleC5wYXVzZWRcblxuICAgIHByZXZpb3VzID0gJCgnLmRvdHMgLmRvdC5vbicpLmRhdGEgJ3NlY3QnXG4gICAgcG51bSA9ICQoJy5kb3RzIC5kb3Qub24nKS5kYXRhICAnbnVtJ1xuICAgIGN1cnJlbnQgPSAkKHRoaXMpLmRhdGEgJ3NlY3QnXG4gICAgY251bSA9ICQodGhpcykuZGF0YSAnbnVtJ1xuXG4gICAgaWYgY251bSA+IHBudW0gdGhlbiBkaXJlY3Rpb24gPSAnZG93bicgZWxzZSBkaXJlY3Rpb24gPSAndXAnXG5cbiAgICBJbmRleC50cmFuc2l0IHByZXZpb3VzLCBjdXJyZW50LCBkaXJlY3Rpb25cblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBJbmRleC5wYXVzZWQgPSBmYWxzZVxuICAgICwgSW5kZXgudGltZW91dFxuXG4gIG5hdmlnYXRlOiAoZGlyZWN0aW9uKSAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgSW5kZXgucGF1c2VkXG5cbiAgICBwcmV2aW91cyA9IEluZGV4Lm5hdltJbmRleC5jdXJyZW50XVxuXG4gICAgaWYgZGlyZWN0aW9uIGlzICdkb3duJyBvciBkaXJlY3Rpb24gaXMgJ3JpZ2h0J1xuICAgICAgaWYgKEluZGV4LmN1cnJlbnQgPT0gKEluZGV4Lm5hdi5sZW5ndGgtMSkpXG4gICAgICAgIEluZGV4LmN1cnJlbnQgPSAwXG4gICAgICBlbHNlXG4gICAgICAgIEluZGV4LmN1cnJlbnQrK1xuXG4gICAgaWYgZGlyZWN0aW9uIGlzICd1cCcgb3IgZGlyZWN0aW9uIGlzICdsZWZ0J1xuICAgICAgaWYgKEluZGV4LmN1cnJlbnQgPT0gMClcbiAgICAgICAgSW5kZXguY3VycmVudCA9IEluZGV4Lm5hdi5sZW5ndGgtMVxuICAgICAgZWxzZVxuICAgICAgICBJbmRleC5jdXJyZW50LS1cblxuICAgIGN1cnJlbnQgPSBJbmRleC5uYXZbSW5kZXguY3VycmVudF1cblxuICAgIEluZGV4LnRyYW5zaXQocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbilcblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBJbmRleC5wYXVzZWQgPSBmYWxzZVxuICAgICwgSW5kZXgudGltZW91dFxuXG4gIHRyYW5zaXQ6IChwcmV2aW91cywgY3VycmVudCwgZGlyZWN0aW9uKSAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgcHJldmlvdXMgaXMgdW5kZWZpbmVkXG5cbiAgICAjIGkgd2lsbCBjaGVzdGJ1bXAgbXkgbW9uaXRvciBpZiB0aGlzIHdvcmtzXG4gICAgc2V0VGltZW91dCAtPlxuICAgICAgJCgnbWV0YVtuYW1lPXRoZW1lLWNvbG9yXScpLnJlbW92ZSgpXG4gICAgICAkKCdoZWFkJykuYXBwZW5kKCc8bWV0YSBuYW1lPVwidGhlbWUtY29sb3JcIiBjb250ZW50PVwiJyArIEluZGV4LmNvbG9yc1tjdXJyZW50XSArICdcIj4nKVxuICAgICwgNTAwXG5cbiAgICBmb3Igc2VjdCBpbiBJbmRleC5uYXZcbiAgICAgIGlmIHNlY3QgaXNudCBjdXJyZW50XG4gICAgICAgICQoJy5jb2xvcnMgLnN2ZycpLnJlbW92ZUNsYXNzIFwic3Rhcl8je3NlY3R9XCJcbiAgICAgICAgJCgnLmJvcmRlcicpLnJlbW92ZUNsYXNzIHNlY3RcblxuICAgICQoJy5jb2xvcnMgLnN2ZycpLmFkZENsYXNzIFwic3Rhcl8je2N1cnJlbnR9XCJcbiAgICAkKCcuYm9yZGVyJykuYWRkQ2xhc3MgY3VycmVudFxuXG4gICAgaWYgZGlyZWN0aW9uIGlzICdkb3duJyBvciBkaXJlY3Rpb24gaXMgJ3JpZ2h0J1xuXG4gICAgICBfLm9uIFwiLmJhY2tncm91bmQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnaW5Gcm9tQm90dG9tJ1xuICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7cHJldmlvdXN9XCIpLmFkZENsYXNzICdvdXRUb1RvcCdcblxuICAgICAgXy5vbiBcIi5jb250ZW50LiN7Y3VycmVudH1cIlxuICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikuYWRkQ2xhc3MgJ2NJbkZyb21Cb3R0b20nXG4gICAgICAkKFwiLmNvbnRlbnQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ2NPdXRUb1RvcCdcblxuICAgICAgc2V0VGltZW91dCAtPlxuXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLnJlbW92ZUNsYXNzICdpbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnb3V0VG9Ub3AnXG5cbiAgICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2NJbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnY091dFRvVG9wJ1xuXG4gICAgICAgIGZvciBzZWN0IGluIEluZGV4Lm5hdlxuICAgICAgICAgIGlmIHNlY3QgaXNudCBjdXJyZW50XG4gICAgICAgICAgICBfLm9mZiBcIi5iYWNrZ3JvdW5kLiN7c2VjdH1cIlxuICAgICAgICAgICAgXy5vZmYgXCIuY29udGVudC4je3NlY3R9XCJcblxuICAgICAgLCAxMDAwXG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ3VwJyBvciBkaXJlY3Rpb24gaXMgJ2xlZnQnXG5cbiAgICAgIF8ub24gXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCJcbiAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLmFkZENsYXNzICdpbkZyb21Ub3AnXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ291dFRvQm90dG9tJ1xuXG4gICAgICBfLm9uIFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnY0luRnJvbVRvcCdcbiAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5hZGRDbGFzcyAnY091dFRvQm90dG9tJ1xuXG4gICAgICBzZXRUaW1lb3V0IC0+XG5cbiAgICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7cHJldmlvdXN9XCIpLnJlbW92ZUNsYXNzICdvdXRUb0JvdHRvbSdcbiAgICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2luRnJvbVRvcCdcblxuICAgICAgICAkKFwiLmNvbnRlbnQuI3twcmV2aW91c31cIikucmVtb3ZlQ2xhc3MgJ2NPdXRUb0JvdHRvbSdcbiAgICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2NJbkZyb21Ub3AnXG5cbiAgICAgICAgZm9yIHNlY3QgaW4gSW5kZXgubmF2XG4gICAgICAgICAgaWYgc2VjdCBpc250IGN1cnJlbnRcbiAgICAgICAgICAgIF8ub2ZmIFwiLmJhY2tncm91bmQuI3tzZWN0fVwiXG4gICAgICAgICAgICBfLm9mZiBcIi5jb250ZW50LiN7c2VjdH1cIlxuXG4gICAgICAsIDEwMDBcblxuICAgIF8ub2ZmICcuZG90cyA+IC5kb3QnXG4gICAgXy5vbiBcIi5kb3RzID4gLmRvdC5kb3RfI3tjdXJyZW50fVwiXG5cbiAgICBJbmRleC50bFxuICAgICAgLnRvKFwiI2QxYVwiLCAxLCB7bW9ycGhTVkc6IFwiIyN7Y3VycmVudH0xYVwiLCBlYXNlOkJhY2suZWFzZUluT3V0fSwgJy09MScpXG4gICAgICAudG8oXCIjZDJhXCIsIDEsIHttb3JwaFNWRzogXCIjI3tjdXJyZW50fTJhXCIsIGVhc2U6QmFjay5lYXNlSW5PdXR9LCAnLT0xJylcbiAgICAgIC50byhcIiNkM2FcIiwgMSwge21vcnBoU1ZHOiBcIiMje2N1cnJlbnR9M2FcIiwgZWFzZTpCYWNrLmVhc2VJbk91dH0sICctPTEnKVxuICAgICAgLnRvKFwiI2QxYlwiLCAxLCB7bW9ycGhTVkc6IFwiIyN7Y3VycmVudH0xYlwiLCBlYXNlOkJhY2suZWFzZUluT3V0fSwgJy09MScpXG4gICAgICAudG8oXCIjZDJiXCIsIDEsIHttb3JwaFNWRzogXCIjI3tjdXJyZW50fTJiXCIsIGVhc2U6QmFjay5lYXNlSW5PdXR9LCAnLT0xJylcbiAgICAgIC50byhcIiNkM2JcIiwgMSwge21vcnBoU1ZHOiBcIiMje2N1cnJlbnR9M2JcIiwgZWFzZTpCYWNrLmVhc2VJbk91dH0sICctPTEnKVxuXG4iXX0=
