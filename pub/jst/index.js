var Index;

Index = {
  nav: ['definery', 'iterate', 'navigate', 'product'],
  timeout: 1000,
  paused: false,
  tl: false,
  colors: {
    'definery': data.color.teal1,
    'iterate': data.color.blue1,
    'navigate': data.color.green1,
    'product': data.color.pink1
  },
  current: 0,
  menuNum: 1,
  menuOptions: ['about', 'work', 'services', 'contact'],
  menuSwiping: false,
  i: function() {
    return Index.handlers();
  },
  handlers: function() {
    $('.nav').on('click', Index.navHandler);
    $('.dots > .dot').on('click', Index.dotHandler);
    $('.menu > .option').on('click', Index.menuHandler);
    $('.section > .logo').on('click', function() {
      return $('.menu > .option.option_about').trigger('click');
    });
    $('.prod_contact_cta').on('click', Index.contact);
    return $('.content > .inner > .tapspace').swipe({
      swipe: function(event, direction, distance, duration, fingerCount) {
        Index.navigate(direction);
      },
      tap: function(event, target) {
        return console.log('tap');
      },
      click: function(event, target) {
        return console.log('click');
      },
      threshold: 0
    });
  },
  contact: function() {
    return $('.menu > .option.option_contact').trigger('click');
  },
  menuHandler: function() {
    var current, dir, i, len, num, option, ref;
    if (Index.menuSwiping === true) {
      return true;
    }
    Index.menuSwiping = true;
    current = $(this).data('option');
    num = $(this).data('num');
    if ($(".option_" + current).hasClass('on')) {
      Index.menuSwiping = false;
      return true;
    }
    _.off('.menu > .option');
    _.on(".option_" + current);
    ref = Index.menuOptions;
    for (i = 0, len = ref.length; i < len; i++) {
      option = ref[i];
      $('.swiper').removeClass("swiper_" + option);
    }
    if (num > Index.menuNum) {
      dir = 'right';
    } else {
      dir = 'left';
    }
    Index.menuNum = num;
    $(".swiper." + dir).addClass("swiper_" + current);
    _.on(".swiper." + dir);
    setTimeout(function() {
      _.off(".swiper." + dir);
      return Index.menuSwiping = false;
    }, 750);
    return setTimeout(function() {
      _.off('.section');
      if (current !== 'about') {
        return _.on(".section." + current);
      }
    }, 300);
  },
  navHandler: function() {
    var current, direction, previous, t;
    if (Index.paused) {
      return true;
    }
    t = $(this);
    previous = t.data('from');
    current = t.data('to');
    direction = t.data('dir');
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  dotHandler: function() {
    var cnum, current, direction, pnum, previous;
    if (Index.paused) {
      return true;
    }
    previous = $('.dots .dot.on').data('sect');
    pnum = $('.dots .dot.on').data('num');
    current = $(this).data('sect');
    cnum = $(this).data('num');
    if (cnum > pnum) {
      direction = 'down';
    } else {
      direction = 'up';
    }
    Index.transit(previous, current, direction);
    Index.paused = true;
    Index.current = cnum;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  navigate: function(direction) {
    var current, previous;
    if ($('.menu > .option.option_contact').hasClass('on')) {
      return true;
    }
    if ($('.menu > .option.option_services').hasClass('on')) {
      return true;
    }
    if ($('.menu > .option.option_work').hasClass('on')) {
      return true;
    }
    if (Index.paused) {
      return true;
    }
    previous = Index.nav[Index.current];
    if (direction === 'up' || direction === 'left') {
      if (Index.current === (Index.nav.length - 1)) {
        return true;
      } else {
        Index.current++;
      }
    }
    if (direction === 'down' || direction === 'right') {
      if (Index.current === 0) {
        return true;
      } else {
        Index.current--;
      }
    }
    current = Index.nav[Index.current];
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  transit: function(previous, current, direction) {
    var i, len, ref, sect, tl;
    if (previous === void 0) {
      return true;
    }
    if (current !== 'definery') {
      _.on('.arrow.up');
    } else {
      _.off('.arrow.up');
    }
    setTimeout(function() {
      $('meta[name=theme-color]').remove();
      return $('head').append('<meta name="theme-color" content="' + Index.colors[current] + '">');
    }, 500);
    ref = Index.nav;
    for (i = 0, len = ref.length; i < len; i++) {
      sect = ref[i];
      if (sect !== current) {
        $('.colors .svg').removeClass("star_" + sect);
        $('.border').removeClass(sect);
        $('.bgcolor').removeClass(sect);
      }
    }
    $('.colors .svg').addClass("star_" + current);
    $('.border').addClass(current);
    $('.bgcolor').addClass(current);
    if (direction === 'down' || direction === 'right') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromBottom');
      $(".background." + previous).addClass('outToTop');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromBottom');
      $(".content." + previous).addClass('cOutToTop');
      setTimeout(function() {
        var j, len1, ref1, results;
        $(".background." + current).removeClass('inFromBottom');
        $(".background." + previous).removeClass('outToTop');
        $(".content." + current).removeClass('cInFromBottom');
        $(".content." + previous).removeClass('cOutToTop');
        ref1 = Index.nav;
        results = [];
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            results.push(_.off(".content." + sect));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }, 1000);
    }
    if (direction === 'up' || direction === 'left') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromTop');
      $(".background." + previous).addClass('outToBottom');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromTop');
      $(".content." + previous).addClass('cOutToBottom');
      setTimeout(function() {
        var j, len1, ref1, results;
        $(".background." + previous).removeClass('outToBottom');
        $(".background." + current).removeClass('inFromTop');
        $(".content." + previous).removeClass('cOutToBottom');
        $(".content." + current).removeClass('cInFromTop');
        ref1 = Index.nav;
        results = [];
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            results.push(_.off(".content." + sect));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }, 1000);
    }
    _.off('.dots > .dot');
    _.on(".dots > .dot.dot_" + current);
    tl = new TimelineMax({
      repeat: 0
    });
    return tl.to(".d1", 0.8, {
      morphSVG: "." + current + "1",
      ease: Power3.easeInOut
    }, '-=0.8').to(".d2", 0.8, {
      morphSVG: "." + current + "2",
      ease: Power3.easeInOut
    }, '-=0.8').to(".d3", 0.8, {
      morphSVG: "." + current + "3",
      ease: Power3.easeInOut
    }, '-=0.8');
  }
};

//# sourceMappingURL=data:application/json;base64,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ImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIkluZGV4ID1cblxuICBuYXY6IFsnZGVmaW5lcnknLCdpdGVyYXRlJywgJ25hdmlnYXRlJywgJ3Byb2R1Y3QnXVxuICB0aW1lb3V0OiAxMDAwXG4gIHBhdXNlZDogZmFsc2VcblxuICB0bDogZmFsc2VcblxuICBjb2xvcnM6XG4gICAgJ2RlZmluZXJ5JzogZGF0YS5jb2xvci50ZWFsMVxuICAgICdpdGVyYXRlJzogZGF0YS5jb2xvci5ibHVlMVxuICAgICduYXZpZ2F0ZSc6IGRhdGEuY29sb3IuZ3JlZW4xXG4gICAgJ3Byb2R1Y3QnOiBkYXRhLmNvbG9yLnBpbmsxXG5cbiAgY3VycmVudDogMFxuXG4gIG1lbnVOdW06IDFcbiAgbWVudU9wdGlvbnM6IFsnYWJvdXQnLCd3b3JrJywnc2VydmljZXMnLCdjb250YWN0J11cbiAgbWVudVN3aXBpbmc6IGZhbHNlXG5cbiAgaTogLT5cblxuICAgIEluZGV4LmhhbmRsZXJzKClcblxuICBoYW5kbGVyczogLT5cblxuICAgICNEZXRlY3QuaGFuZGxlciBJbmRleC5uYXZpZ2F0ZVxuXG4gICAgJCgnLm5hdicpLm9uICdjbGljaycsIEluZGV4Lm5hdkhhbmRsZXJcbiAgICAkKCcuZG90cyA+IC5kb3QnKS5vbiAnY2xpY2snLCBJbmRleC5kb3RIYW5kbGVyXG4gICAgJCgnLm1lbnUgPiAub3B0aW9uJykub24gJ2NsaWNrJywgSW5kZXgubWVudUhhbmRsZXJcbiAgICAkKCcuc2VjdGlvbiA+IC5sb2dvJykub24gJ2NsaWNrJywgLT5cbiAgICAgICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fYWJvdXQnKS50cmlnZ2VyICdjbGljaydcblxuXG4gICAgJCgnLnByb2RfY29udGFjdF9jdGEnKS5vbiAnY2xpY2snLCBJbmRleC5jb250YWN0XG5cbiAgICAjJChkb2N1bWVudCkub24gJ3RvdWNobW92ZScsIC0+XG4gICAgIyAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICQoJy5jb250ZW50ID4gLmlubmVyID4gLnRhcHNwYWNlJykuc3dpcGVcbiAgICAgIHN3aXBlOiAoZXZlbnQsIGRpcmVjdGlvbiwgZGlzdGFuY2UsIGR1cmF0aW9uLCBmaW5nZXJDb3VudCkgLT5cbiAgICAgICAgSW5kZXgubmF2aWdhdGUgZGlyZWN0aW9uXG4gICAgICAgIHJldHVyblxuICAgICAgdGFwOiAoZXZlbnQsIHRhcmdldCkgLT5cbiAgICAgICAgY29uc29sZS5sb2cgJ3RhcCdcbiAgICAgIGNsaWNrOiAoZXZlbnQsIHRhcmdldCkgLT5cbiAgICAgICAgY29uc29sZS5sb2cgJ2NsaWNrJ1xuICAgICAgdGhyZXNob2xkOiAwXG5cblxuICBjb250YWN0OiAtPlxuICAgICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fY29udGFjdCcpLnRyaWdnZXIgJ2NsaWNrJ1xuXG4gIG1lbnVIYW5kbGVyOiAtPlxuICAgIHJldHVybiB0cnVlIGlmIEluZGV4Lm1lbnVTd2lwaW5nIGlzIHRydWVcbiAgICBJbmRleC5tZW51U3dpcGluZyA9IHRydWVcblxuICAgIGN1cnJlbnQgPSAkKHRoaXMpLmRhdGEgJ29wdGlvbidcbiAgICBudW0gPSAkKHRoaXMpLmRhdGEgJ251bSdcblxuICAgIGlmICQoXCIub3B0aW9uXyN7Y3VycmVudH1cIikuaGFzQ2xhc3MgJ29uJ1xuICAgICAgSW5kZXgubWVudVN3aXBpbmcgPSBmYWxzZVxuICAgICAgcmV0dXJuIHRydWVcblxuICAgIF8ub2ZmICcubWVudSA+IC5vcHRpb24nXG4gICAgXy5vbiBcIi5vcHRpb25fI3tjdXJyZW50fVwiXG5cbiAgICBmb3Igb3B0aW9uIGluIEluZGV4Lm1lbnVPcHRpb25zXG4gICAgICAkKCcuc3dpcGVyJykucmVtb3ZlQ2xhc3MoXCJzd2lwZXJfI3tvcHRpb259XCIpXG5cbiAgICBpZiBudW0gPiBJbmRleC5tZW51TnVtIHRoZW4gZGlyID0gJ3JpZ2h0JyBlbHNlIGRpciA9ICdsZWZ0J1xuICAgIEluZGV4Lm1lbnVOdW0gPSBudW1cblxuICAgICQoXCIuc3dpcGVyLiN7ZGlyfVwiKS5hZGRDbGFzcyhcInN3aXBlcl8je2N1cnJlbnR9XCIpXG4gICAgXy5vbiBcIi5zd2lwZXIuI3tkaXJ9XCJcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBfLm9mZiBcIi5zd2lwZXIuI3tkaXJ9XCJcbiAgICAgIEluZGV4Lm1lbnVTd2lwaW5nID0gZmFsc2VcbiAgICAsIDc1MFxuXG4gICAgc2V0VGltZW91dCAtPlxuICAgICAgXy5vZmYgJy5zZWN0aW9uJ1xuICAgICAgaWYgY3VycmVudCBpc250ICdhYm91dCdcbiAgICAgICAgXy5vbiBcIi5zZWN0aW9uLiN7Y3VycmVudH1cIlxuICAgICwgMzAwXG5cbiAgbmF2SGFuZGxlcjogLT5cblxuICAgIHJldHVybiB0cnVlIGlmIEluZGV4LnBhdXNlZFxuICAgIHQgPSAkKHRoaXMpXG5cbiAgICBwcmV2aW91cyA9IHQuZGF0YSAnZnJvbSdcbiAgICBjdXJyZW50ID0gdC5kYXRhICd0bydcbiAgICBkaXJlY3Rpb24gPSB0LmRhdGEgJ2RpcidcblxuICAgIEluZGV4LnRyYW5zaXQocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbilcblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBJbmRleC5wYXVzZWQgPSBmYWxzZVxuICAgICxJbmRleC50aW1lb3V0XG5cblxuICBkb3RIYW5kbGVyOiAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgSW5kZXgucGF1c2VkXG5cbiAgICBwcmV2aW91cyA9ICQoJy5kb3RzIC5kb3Qub24nKS5kYXRhICdzZWN0J1xuICAgIHBudW0gPSAkKCcuZG90cyAuZG90Lm9uJykuZGF0YSAnbnVtJ1xuICAgIGN1cnJlbnQgPSAkKHRoaXMpLmRhdGEgJ3NlY3QnXG4gICAgY251bSA9ICQodGhpcykuZGF0YSAnbnVtJ1xuXG4gICAgaWYgY251bSA+IHBudW0gdGhlbiBkaXJlY3Rpb24gPSAnZG93bicgZWxzZSBkaXJlY3Rpb24gPSAndXAnXG5cbiAgICBJbmRleC50cmFuc2l0IHByZXZpb3VzLCBjdXJyZW50LCBkaXJlY3Rpb25cblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBJbmRleC5jdXJyZW50ID0gY251bVxuICAgIHNldFRpbWVvdXQgLT5cbiAgICAgIEluZGV4LnBhdXNlZCA9IGZhbHNlXG4gICAgLCBJbmRleC50aW1lb3V0XG5cbiAgbmF2aWdhdGU6IChkaXJlY3Rpb24pIC0+XG5cbiAgICByZXR1cm4gdHJ1ZSBpZiAkKCcubWVudSA+IC5vcHRpb24ub3B0aW9uX2NvbnRhY3QnKS5oYXNDbGFzcygnb24nKVxuICAgIHJldHVybiB0cnVlIGlmICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fc2VydmljZXMnKS5oYXNDbGFzcygnb24nKVxuICAgIHJldHVybiB0cnVlIGlmICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fd29yaycpLmhhc0NsYXNzKCdvbicpXG5cbiAgICByZXR1cm4gdHJ1ZSBpZiBJbmRleC5wYXVzZWRcblxuICAgIHByZXZpb3VzID0gSW5kZXgubmF2W0luZGV4LmN1cnJlbnRdXG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ3VwJyBvciBkaXJlY3Rpb24gaXMgJ2xlZnQnXG4gICAgICBpZiAoSW5kZXguY3VycmVudCA9PSAoSW5kZXgubmF2Lmxlbmd0aC0xKSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgI0luZGV4LmN1cnJlbnQgPSAwXG4gICAgICBlbHNlXG4gICAgICAgIEluZGV4LmN1cnJlbnQrK1xuXG4gICAgaWYgZGlyZWN0aW9uIGlzICdkb3duJyBvciBkaXJlY3Rpb24gaXMgJ3JpZ2h0J1xuICAgICAgaWYgKEluZGV4LmN1cnJlbnQgPT0gMClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgI0luZGV4LmN1cnJlbnQgPSBJbmRleC5uYXYubGVuZ3RoLTFcbiAgICAgIGVsc2VcbiAgICAgICAgSW5kZXguY3VycmVudC0tXG5cbiAgICBjdXJyZW50ID0gSW5kZXgubmF2W0luZGV4LmN1cnJlbnRdXG5cbiAgICBJbmRleC50cmFuc2l0KHByZXZpb3VzLCBjdXJyZW50LCBkaXJlY3Rpb24pXG5cbiAgICBJbmRleC5wYXVzZWQgPSB0cnVlXG4gICAgc2V0VGltZW91dCAtPlxuICAgICAgSW5kZXgucGF1c2VkID0gZmFsc2VcbiAgICAsIEluZGV4LnRpbWVvdXRcblxuICB0cmFuc2l0OiAocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbikgLT5cblxuICAgIHJldHVybiB0cnVlIGlmIHByZXZpb3VzIGlzIHVuZGVmaW5lZFxuXG4gICAgaWYgY3VycmVudCBpc250ICdkZWZpbmVyeScgdGhlbiBfLm9uICcuYXJyb3cudXAnIGVsc2UgXy5vZmYgJy5hcnJvdy51cCdcblxuICAgICMgaSB3aWxsIGNoZXN0YnVtcCBteSBtb25pdG9yIGlmIHRoaXMgd29ya3NcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICAkKCdtZXRhW25hbWU9dGhlbWUtY29sb3JdJykucmVtb3ZlKClcbiAgICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCInICsgSW5kZXguY29sb3JzW2N1cnJlbnRdICsgJ1wiPicpXG4gICAgLCA1MDBcblxuICAgIGZvciBzZWN0IGluIEluZGV4Lm5hdlxuICAgICAgaWYgc2VjdCBpc250IGN1cnJlbnRcbiAgICAgICAgJCgnLmNvbG9ycyAuc3ZnJykucmVtb3ZlQ2xhc3MgXCJzdGFyXyN7c2VjdH1cIlxuICAgICAgICAkKCcuYm9yZGVyJykucmVtb3ZlQ2xhc3Mgc2VjdFxuICAgICAgICAkKCcuYmdjb2xvcicpLnJlbW92ZUNsYXNzIHNlY3RcblxuICAgICQoJy5jb2xvcnMgLnN2ZycpLmFkZENsYXNzIFwic3Rhcl8je2N1cnJlbnR9XCJcbiAgICAkKCcuYm9yZGVyJykuYWRkQ2xhc3MgY3VycmVudFxuICAgICQoJy5iZ2NvbG9yJykuYWRkQ2xhc3MgY3VycmVudFxuXG4gICAgaWYgZGlyZWN0aW9uIGlzICdkb3duJyBvciBkaXJlY3Rpb24gaXMgJ3JpZ2h0J1xuXG4gICAgICBfLm9uIFwiLmJhY2tncm91bmQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnaW5Gcm9tQm90dG9tJ1xuICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7cHJldmlvdXN9XCIpLmFkZENsYXNzICdvdXRUb1RvcCdcblxuICAgICAgXy5vbiBcIi5jb250ZW50LiN7Y3VycmVudH1cIlxuICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikuYWRkQ2xhc3MgJ2NJbkZyb21Cb3R0b20nXG4gICAgICAkKFwiLmNvbnRlbnQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ2NPdXRUb1RvcCdcblxuICAgICAgc2V0VGltZW91dCAtPlxuXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLnJlbW92ZUNsYXNzICdpbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnb3V0VG9Ub3AnXG5cbiAgICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2NJbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnY091dFRvVG9wJ1xuXG4gICAgICAgIGZvciBzZWN0IGluIEluZGV4Lm5hdlxuICAgICAgICAgIGlmIHNlY3QgaXNudCBjdXJyZW50XG4gICAgICAgICAgICBfLm9mZiBcIi5iYWNrZ3JvdW5kLiN7c2VjdH1cIlxuICAgICAgICAgICAgXy5vZmYgXCIuY29udGVudC4je3NlY3R9XCJcblxuICAgICAgLCAxMDAwXG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ3VwJyBvciBkaXJlY3Rpb24gaXMgJ2xlZnQnXG5cbiAgICAgIF8ub24gXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCJcbiAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLmFkZENsYXNzICdpbkZyb21Ub3AnXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ291dFRvQm90dG9tJ1xuXG4gICAgICBfLm9uIFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnY0luRnJvbVRvcCdcbiAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5hZGRDbGFzcyAnY091dFRvQm90dG9tJ1xuXG4gICAgICBzZXRUaW1lb3V0IC0+XG5cbiAgICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7cHJldmlvdXN9XCIpLnJlbW92ZUNsYXNzICdvdXRUb0JvdHRvbSdcbiAgICAgICAgJChcIi5iYWNrZ3JvdW5kLiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2luRnJvbVRvcCdcblxuICAgICAgICAkKFwiLmNvbnRlbnQuI3twcmV2aW91c31cIikucmVtb3ZlQ2xhc3MgJ2NPdXRUb0JvdHRvbSdcbiAgICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2NJbkZyb21Ub3AnXG5cbiAgICAgICAgZm9yIHNlY3QgaW4gSW5kZXgubmF2XG4gICAgICAgICAgaWYgc2VjdCBpc250IGN1cnJlbnRcbiAgICAgICAgICAgIF8ub2ZmIFwiLmJhY2tncm91bmQuI3tzZWN0fVwiXG4gICAgICAgICAgICBfLm9mZiBcIi5jb250ZW50LiN7c2VjdH1cIlxuXG4gICAgICAsIDEwMDBcblxuICAgIF8ub2ZmICcuZG90cyA+IC5kb3QnXG4gICAgXy5vbiBcIi5kb3RzID4gLmRvdC5kb3RfI3tjdXJyZW50fVwiXG5cbiAgICB0bCA9IG5ldyBUaW1lbGluZU1heCh7cmVwZWF0OiAwfSlcbiAgICB0bFxuICAgICAgLnRvKFwiLmQxXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9MVwiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuICAgICAgLnRvKFwiLmQyXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9MlwiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuICAgICAgLnRvKFwiLmQzXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9M1wiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuXG5cbiJdfQ==
