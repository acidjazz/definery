var Index;

Index = {
  nav: ['definery', 'iterate', 'navigate', 'product'],
  timeout: 1000,
  transitTimeout: 1000,
  paused: false,
  currentSlide: false,
  tl: false,
  colors: {
    'definery': config.color.teal1,
    'iterate': config.color.blue1,
    'navigate': config.color.green1,
    'product': config.color.pink1
  },
  menucolors: {
    'about': config.color.teal1,
    'work': config.color.bblue,
    'services': config.color.bpink,
    'contact': config.color.bgreen
  },
  current: 0,
  menuNum: 1,
  menuOptions: ['about', 'work', 'services', 'contact'],
  menuSwiping: false,
  i: function() {
    Index.handlers();
    Work.populate();
    if (navigator.userAgent.toLowerCase().indexOf('android') > -1) {
      return Index.transitTimeout = 800;
    }
  },
  handlers: function() {
    $('.nav').on('click', Index.navHandler);
    $('.container > .inner > .dots > .dot').on('click', Index.dotHandler);
    $('.menu > .option').on('click', Index.menuHandler);
    $('.section > .logo').on('click', function() {
      return $('.menu > .option.option_about').trigger('click');
    });
    $('.prod_contact_cta').on('click', Index.contact);
    Detect.handler(Index.navigate);
    return $('.content > .inner > .tapspace, .section.work > .inner > .tapspace').swipe({
      swipe: function(event, direction, distance, duration, fingerCount) {

        /*
        direction  = 'down' if direction is 'up'
        direction  = 'up' if direction is 'down'
        direction  = 'left' if direction is 'right'
        direction  = 'right' if direction is 'left'
         */
        if (direction === null) {
          return true;
        }
        Index.navigate(direction);
      },
      tap: function(event, target) {
        return console.log('tap');
      },
      click: function(event, target) {
        return console.log('click');
      },
      threshold: 0
    });
  },
  contact: function() {
    return $('.menu > .option.option_contact').trigger('click');
  },
  menuHandler: function() {
    var current, dir, i, len, num, option, previous, ref;
    if (Index.menuSwiping === true) {
      return true;
    }
    Index.menuSwiping = true;
    current = $(this).data('option');
    previous = $('.menu > .option.on').data('option');
    num = $(this).data('num');
    if ($(".option_" + current).hasClass('on')) {
      Index.menuSwiping = false;
      return true;
    }
    _.off('.menu > .option');
    _.on(".option_" + current);
    if (current === 'about') {
      Index.meta(Index.colors[Index.currentSlide], 200);
    } else {
      Index.meta(Index.menucolors[current], 200);
    }
    if (current === 'work') {
      Work.i();
    }
    if (previous === 'work') {
      Work.d();
    }
    ref = Index.menuOptions;
    for (i = 0, len = ref.length; i < len; i++) {
      option = ref[i];
      $('.swiper').removeClass("swiper_" + option);
    }
    if (num > Index.menuNum) {
      dir = 'right';
    } else {
      dir = 'left';
    }
    Index.menuNum = num;
    $(".swiper." + dir).addClass("swiper_" + current);
    _.on(".swiper." + dir);
    setTimeout(function() {
      _.off(".swiper." + dir);
      return Index.menuSwiping = false;
    }, 750);
    return setTimeout(function() {
      _.off('.section');
      if (current !== 'about') {
        return _.on(".section." + current);
      }
    }, 300);
  },
  navHandler: function() {
    var current, direction, previous, t;
    if (Index.paused) {
      return true;
    }
    t = $(this);
    previous = t.data('from');
    current = t.data('to');
    direction = t.data('dir');
    Index.navigate(direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  dotHandler: function() {
    var cnum, current, direction, pnum, previous;
    if (Index.paused) {
      return true;
    }
    previous = $('.container > .inner > .dots .dot.on').data('sect');
    pnum = $('.container > .inner > .dots .dot.on').data('num');
    current = $(this).data('sect');
    cnum = $(this).data('num');
    if (cnum > pnum) {
      direction = 'up';
    } else {
      direction = 'down';
    }
    Index.transit(previous, current, direction);
    Index.paused = true;
    Index.current = cnum;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  navigate: function(direction) {
    var current, previous;
    console.log('Index.navigate fired');
    if (Work.active === true) {
      return Work.navigate(direction);
    }
    if ($('.menu > .option.option_contact').hasClass('on')) {
      return true;
    }
    if ($('.menu > .option.option_services').hasClass('on')) {
      return true;
    }
    if ($('.menu > .option.option_work').hasClass('on')) {
      return true;
    }
    if (Index.paused) {
      return true;
    }
    previous = Index.nav[Index.current];
    if (direction === 'up' || direction === 'left') {
      if (Index.current === (Index.nav.length - 1)) {
        return true;
      } else {
        Index.current++;
      }
    }
    if (direction === 'down' || direction === 'right') {
      if (Index.current === 0) {
        return true;
      } else {
        Index.current--;
      }
    }
    current = Index.nav[Index.current];
    Index.transit(previous, current, direction);
    Index.paused = true;
    return setTimeout(function() {
      return Index.paused = false;
    }, Index.timeout);
  },
  meta: function(color, timeout) {
    return setTimeout(function() {
      $('meta[name=theme-color]').remove();
      return $('head').append('<meta name="theme-color" content="' + color + '">');
    }, timeout);
  },
  transit: function(previous, current, direction) {
    var i, len, ref, sect, tl;
    if (previous === void 0) {
      return true;
    }
    if (current !== 'definery') {
      _.on('.arrow.up');
    } else {
      _.off('.arrow.up');
    }
    Index.currentSlide = current;
    Index.meta(Index.colors[current], 500);
    ref = Index.nav;
    for (i = 0, len = ref.length; i < len; i++) {
      sect = ref[i];
      if (sect !== current) {
        $('.colors .svg').removeClass("star_" + sect);
        $('.border').removeClass(sect);
        $('.bgcolor').removeClass(sect);
      }
    }
    $('.colors .svg').addClass("star_" + current);
    $('.border').addClass(current);
    $('.bgcolor').addClass(current);
    if (direction === 'up' || direction === 'left') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromBottom');
      $(".background." + previous).addClass('outToTop');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromBottom');
      $(".content." + previous).addClass('cOutToTop');
      setTimeout(function() {
        var j, len1, ref1;
        ref1 = Index.nav;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            _.off(".content." + sect);
          }
        }
        $(".background." + current).removeClass('inFromBottom');
        $(".background." + previous).removeClass('outToTop');
        $(".content." + current).removeClass('cInFromBottom');
        return $(".content." + previous).removeClass('cOutToTop');
      }, Index.transitTimeout);
    }
    if (direction === 'down' || direction === 'right') {
      _.on(".background." + current);
      $(".background." + current).addClass('inFromTop');
      $(".background." + previous).addClass('outToBottom');
      _.on(".content." + current);
      $(".content." + current).addClass('cInFromTop');
      $(".content." + previous).addClass('cOutToBottom');
      setTimeout(function() {
        var j, len1, ref1;
        ref1 = Index.nav;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          sect = ref1[j];
          if (sect !== current) {
            _.off(".background." + sect);
            _.off(".content." + sect);
          }
        }
        $(".background." + previous).removeClass('outToBottom');
        $(".background." + current).removeClass('inFromTop');
        $(".content." + previous).removeClass('cOutToBottom');
        return $(".content." + current).removeClass('cInFromTop');
      }, Index.transitTimeout);
    }
    _.off('.container > .inner > .dots > .dot');
    _.on(".container > .inner > .dots > .dot.dot_" + current);
    tl = new TimelineMax({
      repeat: 0
    });
    return tl.to(".d1", 0.8, {
      morphSVG: "." + current + "1",
      ease: Power3.easeInOut
    }, '-=0.8').to(".d2", 0.8, {
      morphSVG: "." + current + "2",
      ease: Power3.easeInOut
    }, '-=0.8').to(".d3", 0.8, {
      morphSVG: "." + current + "3",
      ease: Power3.easeInOut
    }, '-=0.8');
  }
};

//# sourceMappingURL=data:application/json;base64,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LENBR00sS0FITixFQUdhLEdBSGIsRUFHa0I7TUFBQyxRQUFBLEVBQVUsR0FBQSxHQUFJLE9BQUosR0FBWSxHQUF2QjtNQUEyQixJQUFBLEVBQUssTUFBTSxDQUFDLFNBQXZDO0tBSGxCLEVBR3FFLE9BSHJFO0VBMUVPLENBck1UIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiSW5kZXggPVxuXG4gIG5hdjogWydkZWZpbmVyeScsJ2l0ZXJhdGUnLCAnbmF2aWdhdGUnLCAncHJvZHVjdCddXG4gIHRpbWVvdXQ6IDEwMDBcbiAgdHJhbnNpdFRpbWVvdXQ6IDEwMDBcbiAgcGF1c2VkOiBmYWxzZVxuICBjdXJyZW50U2xpZGU6IGZhbHNlXG5cbiAgdGw6IGZhbHNlXG5cbiAgY29sb3JzOlxuICAgICdkZWZpbmVyeSc6IGNvbmZpZy5jb2xvci50ZWFsMVxuICAgICdpdGVyYXRlJzogY29uZmlnLmNvbG9yLmJsdWUxXG4gICAgJ25hdmlnYXRlJzogY29uZmlnLmNvbG9yLmdyZWVuMVxuICAgICdwcm9kdWN0JzogY29uZmlnLmNvbG9yLnBpbmsxXG5cbiAgbWVudWNvbG9yczpcbiAgICAnYWJvdXQnOiBjb25maWcuY29sb3IudGVhbDFcbiAgICAnd29yayc6IGNvbmZpZy5jb2xvci5iYmx1ZVxuICAgICdzZXJ2aWNlcyc6IGNvbmZpZy5jb2xvci5icGlua1xuICAgICdjb250YWN0JzogY29uZmlnLmNvbG9yLmJncmVlblxuXG4gIGN1cnJlbnQ6IDBcblxuICBtZW51TnVtOiAxXG4gIG1lbnVPcHRpb25zOiBbJ2Fib3V0Jywnd29yaycsJ3NlcnZpY2VzJywnY29udGFjdCddXG4gIG1lbnVTd2lwaW5nOiBmYWxzZVxuXG4gIGk6IC0+XG5cbiAgICBJbmRleC5oYW5kbGVycygpXG5cbiAgICBXb3JrLnBvcHVsYXRlKClcblxuICAgIGlmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhbmRyb2lkJykgPiAtMVxuICAgICAgSW5kZXgudHJhbnNpdFRpbWVvdXQgPSA4MDBcblxuXG4gIGhhbmRsZXJzOiAtPlxuXG4gICAgJCgnLm5hdicpLm9uICdjbGljaycsIEluZGV4Lm5hdkhhbmRsZXJcbiAgICAkKCcuY29udGFpbmVyID4gLmlubmVyID4gLmRvdHMgPiAuZG90Jykub24gJ2NsaWNrJywgSW5kZXguZG90SGFuZGxlclxuICAgICQoJy5tZW51ID4gLm9wdGlvbicpLm9uICdjbGljaycsIEluZGV4Lm1lbnVIYW5kbGVyXG4gICAgJCgnLnNlY3Rpb24gPiAubG9nbycpLm9uICdjbGljaycsIC0+XG4gICAgICAkKCcubWVudSA+IC5vcHRpb24ub3B0aW9uX2Fib3V0JykudHJpZ2dlciAnY2xpY2snXG5cblxuICAgICQoJy5wcm9kX2NvbnRhY3RfY3RhJykub24gJ2NsaWNrJywgSW5kZXguY29udGFjdFxuXG4gICAgIyQoZG9jdW1lbnQpLm9uICd0b3VjaG1vdmUnLCAtPlxuICAgICMgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIERldGVjdC5oYW5kbGVyIEluZGV4Lm5hdmlnYXRlXG4gICAgJCgnLmNvbnRlbnQgPiAuaW5uZXIgPiAudGFwc3BhY2UsIC5zZWN0aW9uLndvcmsgPiAuaW5uZXIgPiAudGFwc3BhY2UnKS5zd2lwZVxuICAgICAgc3dpcGU6IChldmVudCwgZGlyZWN0aW9uLCBkaXN0YW5jZSwgZHVyYXRpb24sIGZpbmdlckNvdW50KSAtPlxuICAgICAgICAjIyNcbiAgICAgICAgZGlyZWN0aW9uICA9ICdkb3duJyBpZiBkaXJlY3Rpb24gaXMgJ3VwJ1xuICAgICAgICBkaXJlY3Rpb24gID0gJ3VwJyBpZiBkaXJlY3Rpb24gaXMgJ2Rvd24nXG4gICAgICAgIGRpcmVjdGlvbiAgPSAnbGVmdCcgaWYgZGlyZWN0aW9uIGlzICdyaWdodCdcbiAgICAgICAgZGlyZWN0aW9uICA9ICdyaWdodCcgaWYgZGlyZWN0aW9uIGlzICdsZWZ0J1xuICAgICAgICAjIyNcbiAgICAgICAgcmV0dXJuIHRydWUgaWYgZGlyZWN0aW9uIGlzIG51bGxcbiAgICAgICAgIyQoJy5kZWJ1ZycpLmFwcGVuZCgnMTogc3dpcGU6ICcgKyBkaXJlY3Rpb24gKyAnPGJyIC8+ICcpXG4gICAgICAgIEluZGV4Lm5hdmlnYXRlIGRpcmVjdGlvblxuICAgICAgICByZXR1cm5cbiAgICAgIHRhcDogKGV2ZW50LCB0YXJnZXQpIC0+XG4gICAgICAgIGNvbnNvbGUubG9nICd0YXAnXG4gICAgICBjbGljazogKGV2ZW50LCB0YXJnZXQpIC0+XG4gICAgICAgIGNvbnNvbGUubG9nICdjbGljaydcbiAgICAgIHRocmVzaG9sZDogMFxuXG5cbiAgY29udGFjdDogLT5cbiAgICAkKCcubWVudSA+IC5vcHRpb24ub3B0aW9uX2NvbnRhY3QnKS50cmlnZ2VyICdjbGljaydcblxuICBtZW51SGFuZGxlcjogLT5cbiAgICByZXR1cm4gdHJ1ZSBpZiBJbmRleC5tZW51U3dpcGluZyBpcyB0cnVlXG4gICAgSW5kZXgubWVudVN3aXBpbmcgPSB0cnVlXG5cbiAgICBjdXJyZW50ID0gJCh0aGlzKS5kYXRhICdvcHRpb24nXG4gICAgcHJldmlvdXMgPSAkKCcubWVudSA+IC5vcHRpb24ub24nKS5kYXRhICdvcHRpb24nXG4gICAgbnVtID0gJCh0aGlzKS5kYXRhICdudW0nXG5cbiAgICBpZiAkKFwiLm9wdGlvbl8je2N1cnJlbnR9XCIpLmhhc0NsYXNzICdvbidcbiAgICAgIEluZGV4Lm1lbnVTd2lwaW5nID0gZmFsc2VcbiAgICAgIHJldHVybiB0cnVlXG5cbiAgICBfLm9mZiAnLm1lbnUgPiAub3B0aW9uJ1xuICAgIF8ub24gXCIub3B0aW9uXyN7Y3VycmVudH1cIlxuXG4gICAgaWYgY3VycmVudCBpcyAnYWJvdXQnXG4gICAgICBJbmRleC5tZXRhIEluZGV4LmNvbG9yc1tJbmRleC5jdXJyZW50U2xpZGVdLCAyMDBcbiAgICBlbHNlXG4gICAgICBJbmRleC5tZXRhIEluZGV4Lm1lbnVjb2xvcnNbY3VycmVudF0sIDIwMFxuXG4gICAgaWYgY3VycmVudCBpcyAnd29yaydcbiAgICAgIFdvcmsuaSgpXG5cbiAgICBpZiBwcmV2aW91cyBpcyAnd29yaydcbiAgICAgIFdvcmsuZCgpXG5cblxuICAgIGZvciBvcHRpb24gaW4gSW5kZXgubWVudU9wdGlvbnNcbiAgICAgICQoJy5zd2lwZXInKS5yZW1vdmVDbGFzcyhcInN3aXBlcl8je29wdGlvbn1cIilcblxuICAgIGlmIG51bSA+IEluZGV4Lm1lbnVOdW0gdGhlbiBkaXIgPSAncmlnaHQnIGVsc2UgZGlyID0gJ2xlZnQnXG4gICAgSW5kZXgubWVudU51bSA9IG51bVxuXG4gICAgJChcIi5zd2lwZXIuI3tkaXJ9XCIpLmFkZENsYXNzKFwic3dpcGVyXyN7Y3VycmVudH1cIilcbiAgICBfLm9uIFwiLnN3aXBlci4je2Rpcn1cIlxuICAgIHNldFRpbWVvdXQgLT5cbiAgICAgIF8ub2ZmIFwiLnN3aXBlci4je2Rpcn1cIlxuICAgICAgSW5kZXgubWVudVN3aXBpbmcgPSBmYWxzZVxuICAgICwgNzUwXG5cbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBfLm9mZiAnLnNlY3Rpb24nXG4gICAgICBpZiBjdXJyZW50IGlzbnQgJ2Fib3V0J1xuICAgICAgICBfLm9uIFwiLnNlY3Rpb24uI3tjdXJyZW50fVwiXG4gICAgLCAzMDBcblxuICBuYXZIYW5kbGVyOiAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgSW5kZXgucGF1c2VkXG4gICAgdCA9ICQodGhpcylcblxuICAgIHByZXZpb3VzID0gdC5kYXRhICdmcm9tJ1xuICAgIGN1cnJlbnQgPSB0LmRhdGEgJ3RvJ1xuICAgIGRpcmVjdGlvbiA9IHQuZGF0YSAnZGlyJ1xuXG4gICAgI0luZGV4LnRyYW5zaXQocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbilcbiAgICBJbmRleC5uYXZpZ2F0ZSBkaXJlY3Rpb25cblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBJbmRleC5wYXVzZWQgPSBmYWxzZVxuICAgICxJbmRleC50aW1lb3V0XG5cblxuICBkb3RIYW5kbGVyOiAtPlxuXG4gICAgcmV0dXJuIHRydWUgaWYgSW5kZXgucGF1c2VkXG5cbiAgICBwcmV2aW91cyA9ICQoJy5jb250YWluZXIgPiAuaW5uZXIgPiAuZG90cyAuZG90Lm9uJykuZGF0YSAnc2VjdCdcbiAgICBwbnVtID0gJCgnLmNvbnRhaW5lciA+IC5pbm5lciA+IC5kb3RzIC5kb3Qub24nKS5kYXRhICdudW0nXG4gICAgY3VycmVudCA9ICQodGhpcykuZGF0YSAnc2VjdCdcbiAgICBjbnVtID0gJCh0aGlzKS5kYXRhICdudW0nXG5cbiAgICBpZiBjbnVtID4gcG51bSB0aGVuIGRpcmVjdGlvbiA9ICd1cCcgZWxzZSBkaXJlY3Rpb24gPSAnZG93bidcblxuICAgIEluZGV4LnRyYW5zaXQgcHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvblxuXG4gICAgSW5kZXgucGF1c2VkID0gdHJ1ZVxuICAgIEluZGV4LmN1cnJlbnQgPSBjbnVtXG4gICAgc2V0VGltZW91dCAtPlxuICAgICAgSW5kZXgucGF1c2VkID0gZmFsc2VcbiAgICAsIEluZGV4LnRpbWVvdXRcblxuICBuYXZpZ2F0ZTogKGRpcmVjdGlvbikgLT5cblxuICAgIGNvbnNvbGUubG9nICdJbmRleC5uYXZpZ2F0ZSBmaXJlZCdcblxuICAgIHJldHVybiBXb3JrLm5hdmlnYXRlIGRpcmVjdGlvbiBpZiBXb3JrLmFjdGl2ZSBpcyB0cnVlXG5cbiAgICByZXR1cm4gdHJ1ZSBpZiAkKCcubWVudSA+IC5vcHRpb24ub3B0aW9uX2NvbnRhY3QnKS5oYXNDbGFzcygnb24nKVxuICAgIHJldHVybiB0cnVlIGlmICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fc2VydmljZXMnKS5oYXNDbGFzcygnb24nKVxuICAgIHJldHVybiB0cnVlIGlmICQoJy5tZW51ID4gLm9wdGlvbi5vcHRpb25fd29yaycpLmhhc0NsYXNzKCdvbicpXG5cbiAgICByZXR1cm4gdHJ1ZSBpZiBJbmRleC5wYXVzZWRcblxuICAgIHByZXZpb3VzID0gSW5kZXgubmF2W0luZGV4LmN1cnJlbnRdXG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ3VwJyBvciBkaXJlY3Rpb24gaXMgJ2xlZnQnXG4gICAgICBpZiAoSW5kZXguY3VycmVudCA9PSAoSW5kZXgubmF2Lmxlbmd0aC0xKSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgSW5kZXguY3VycmVudCsrXG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ2Rvd24nIG9yIGRpcmVjdGlvbiBpcyAncmlnaHQnXG4gICAgICBpZiAoSW5kZXguY3VycmVudCA9PSAwKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgZWxzZVxuICAgICAgICBJbmRleC5jdXJyZW50LS1cblxuICAgIGN1cnJlbnQgPSBJbmRleC5uYXZbSW5kZXguY3VycmVudF1cblxuICAgIEluZGV4LnRyYW5zaXQocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbilcblxuICAgIEluZGV4LnBhdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICBJbmRleC5wYXVzZWQgPSBmYWxzZVxuICAgICwgSW5kZXgudGltZW91dFxuXG4gIG1ldGE6IChjb2xvciwgdGltZW91dCkgLT5cbiAgICBzZXRUaW1lb3V0IC0+XG4gICAgICAkKCdtZXRhW25hbWU9dGhlbWUtY29sb3JdJykucmVtb3ZlKClcbiAgICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCInICsgY29sb3IgKyAnXCI+JylcbiAgICAsIHRpbWVvdXRcblxuICB0cmFuc2l0OiAocHJldmlvdXMsIGN1cnJlbnQsIGRpcmVjdGlvbikgLT5cblxuICAgIHJldHVybiB0cnVlIGlmIHByZXZpb3VzIGlzIHVuZGVmaW5lZFxuXG4gICAgaWYgY3VycmVudCBpc250ICdkZWZpbmVyeScgdGhlbiBfLm9uICcuYXJyb3cudXAnIGVsc2UgXy5vZmYgJy5hcnJvdy51cCdcblxuICAgICMgaSB3aWxsIGNoZXN0YnVtcCBteSBtb25pdG9yIGlmIHRoaXMgd29ya3NcbiAgICBJbmRleC5jdXJyZW50U2xpZGUgPSBjdXJyZW50XG4gICAgSW5kZXgubWV0YSBJbmRleC5jb2xvcnNbY3VycmVudF0sIDUwMFxuXG4gICAgZm9yIHNlY3QgaW4gSW5kZXgubmF2XG4gICAgICBpZiBzZWN0IGlzbnQgY3VycmVudFxuICAgICAgICAkKCcuY29sb3JzIC5zdmcnKS5yZW1vdmVDbGFzcyBcInN0YXJfI3tzZWN0fVwiXG4gICAgICAgICQoJy5ib3JkZXInKS5yZW1vdmVDbGFzcyBzZWN0XG4gICAgICAgICQoJy5iZ2NvbG9yJykucmVtb3ZlQ2xhc3Mgc2VjdFxuXG4gICAgJCgnLmNvbG9ycyAuc3ZnJykuYWRkQ2xhc3MgXCJzdGFyXyN7Y3VycmVudH1cIlxuICAgICQoJy5ib3JkZXInKS5hZGRDbGFzcyBjdXJyZW50XG4gICAgJCgnLmJnY29sb3InKS5hZGRDbGFzcyBjdXJyZW50XG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ3VwJyBvciBkaXJlY3Rpb24gaXMgJ2xlZnQnXG5cbiAgICAgIF8ub24gXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCJcbiAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLmFkZENsYXNzICdpbkZyb21Cb3R0b20nXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ291dFRvVG9wJ1xuXG4gICAgICBfLm9uIFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnY0luRnJvbUJvdHRvbSdcbiAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5hZGRDbGFzcyAnY091dFRvVG9wJ1xuXG4gICAgICBzZXRUaW1lb3V0IC0+XG5cbiAgICAgICAgZm9yIHNlY3QgaW4gSW5kZXgubmF2XG4gICAgICAgICAgaWYgc2VjdCBpc250IGN1cnJlbnRcbiAgICAgICAgICAgIF8ub2ZmIFwiLmJhY2tncm91bmQuI3tzZWN0fVwiXG4gICAgICAgICAgICBfLm9mZiBcIi5jb250ZW50LiN7c2VjdH1cIlxuXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLnJlbW92ZUNsYXNzICdpbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnb3V0VG9Ub3AnXG5cbiAgICAgICAgJChcIi5jb250ZW50LiN7Y3VycmVudH1cIikucmVtb3ZlQ2xhc3MgJ2NJbkZyb21Cb3R0b20nXG4gICAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnY091dFRvVG9wJ1xuXG4gICAgICAsIEluZGV4LnRyYW5zaXRUaW1lb3V0XG5cbiAgICBpZiBkaXJlY3Rpb24gaXMgJ2Rvd24nIG9yIGRpcmVjdGlvbiBpcyAncmlnaHQnXG5cbiAgICAgIF8ub24gXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCJcbiAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLmFkZENsYXNzICdpbkZyb21Ub3AnXG4gICAgICAkKFwiLmJhY2tncm91bmQuI3twcmV2aW91c31cIikuYWRkQ2xhc3MgJ291dFRvQm90dG9tJ1xuXG4gICAgICBfLm9uIFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiXG4gICAgICAkKFwiLmNvbnRlbnQuI3tjdXJyZW50fVwiKS5hZGRDbGFzcyAnY0luRnJvbVRvcCdcbiAgICAgICQoXCIuY29udGVudC4je3ByZXZpb3VzfVwiKS5hZGRDbGFzcyAnY091dFRvQm90dG9tJ1xuXG4gICAgICBzZXRUaW1lb3V0IC0+XG5cbiAgICAgICAgZm9yIHNlY3QgaW4gSW5kZXgubmF2XG4gICAgICAgICAgaWYgc2VjdCBpc250IGN1cnJlbnRcbiAgICAgICAgICAgIF8ub2ZmIFwiLmJhY2tncm91bmQuI3tzZWN0fVwiXG4gICAgICAgICAgICBfLm9mZiBcIi5jb250ZW50LiN7c2VjdH1cIlxuXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je3ByZXZpb3VzfVwiKS5yZW1vdmVDbGFzcyAnb3V0VG9Cb3R0b20nXG4gICAgICAgICQoXCIuYmFja2dyb3VuZC4je2N1cnJlbnR9XCIpLnJlbW92ZUNsYXNzICdpbkZyb21Ub3AnXG5cbiAgICAgICAgJChcIi5jb250ZW50LiN7cHJldmlvdXN9XCIpLnJlbW92ZUNsYXNzICdjT3V0VG9Cb3R0b20nXG4gICAgICAgICQoXCIuY29udGVudC4je2N1cnJlbnR9XCIpLnJlbW92ZUNsYXNzICdjSW5Gcm9tVG9wJ1xuXG4gICAgICAsIEluZGV4LnRyYW5zaXRUaW1lb3V0XG5cbiAgICBfLm9mZiAnLmNvbnRhaW5lciA+IC5pbm5lciA+IC5kb3RzID4gLmRvdCdcbiAgICBfLm9uIFwiLmNvbnRhaW5lciA+IC5pbm5lciA+IC5kb3RzID4gLmRvdC5kb3RfI3tjdXJyZW50fVwiXG5cbiAgICB0bCA9IG5ldyBUaW1lbGluZU1heCh7cmVwZWF0OiAwfSlcbiAgICB0bFxuICAgICAgLnRvKFwiLmQxXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9MVwiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuICAgICAgLnRvKFwiLmQyXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9MlwiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuICAgICAgLnRvKFwiLmQzXCIsIDAuOCwge21vcnBoU1ZHOiBcIi4je2N1cnJlbnR9M1wiLCBlYXNlOlBvd2VyMy5lYXNlSW5PdXR9LCAnLT0wLjgnKVxuXG5cbiJdfQ==
